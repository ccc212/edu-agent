## 6. 异常处理 (Exception Handling)

### 6.1. `try-catch-finally` 机制 (`try-catch-finally` Mechanism)

- **知识点：** `try` 块、`catch` 块、`finally` 块；异常的分类（受检异常 `Checked Exception`，非受检异常 `Unchecked Exception`）；`throw` 关键字；`throws` 关键字；`try-with-resources` 语句。

1. **题目名称：** 整数解析与异常处理 **题目描述：** 接收一个字符串 `s`。尝试将其解析为整数。如果字符串不是有效的整数格式，捕获 `NumberFormatException` 并打印 "Invalid number format."。无论是否解析成功，最终都打印 "Processing complete."。 **输入示例 1：** `123` **输出示例 1：** `Parsed number: 123` `Processing complete.` **输入示例 2：** `abc` **输出示例 2：** `Invalid number format.` `Processing complete.` **参考代码结构：**

   ```java
   import java.util.Scanner;
   public class NumberParser {
       public static void main(String[] args) {
           Scanner scanner = new Scanner(System.in);
           String s = scanner.nextLine();
           // 在这里编写你的代码
           scanner.close();
       }
   }
   ```

2. **题目名称：** 自定义异常 **题目描述：**

   - 定义一个名为 `NegativeNumberException` 的自定义异常类，继承自 `Exception`。
   - 编写一个方法 `checkPositive(int num)`。如果 `num` 为负数，则抛出 `NegativeNumberException`。
   - 在 `main` 方法中调用 `checkPositive()` 方法，并使用 `try-catch` 捕获 `NegativeNumberException`，打印自定义的错误信息。 **输入示例 1：** `5` **输出示例 1：** `Number is positive.` **输入示例 2：** `-3` **输出示例 2：** `Error: Negative number detected!` **参考代码结构：**

   ```java
   // NegativeNumberException.java
   class NegativeNumberException extends Exception {
       public NegativeNumberException(String message) {
           super(message);
       }
   }
   
   // Main.java
   import java.util.Scanner;
   public class CustomExceptionDemo {
       public static void checkPositive(int num) throws NegativeNumberException {
           // 在这里编写你的代码
       }
   
       public static void main(String[] args) {
           Scanner scanner = new Scanner(System.in);
           int number = scanner.nextInt();
           try {
               checkPositive(number);
           } catch (NegativeNumberException e) {
               System.out.println("Error: " + e.getMessage());
           } finally {
               System.out.println("Check complete.");
           }
           scanner.close();
       }
   }
   ```