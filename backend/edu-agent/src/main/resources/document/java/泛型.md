## 8. 泛型 (Generics)

### 8.1. 泛型类与泛型方法 (Generic Classes & Methods)

- **知识点：** 泛型的概念与优势（类型安全，消除强制类型转换）；泛型类（定义与使用）；泛型方法（定义与使用）；类型参数命名规范；通配符（`?`）。

1. **题目名称：** 实现一个泛型栈 **题目描述：**

   - 定义一个泛型类 `MyStack<T>`，用于实现一个简单的栈结构。
   - 该栈应包含以下方法：
     - `push(T item)`: 将元素压入栈顶。
     - `pop()`: 弹出栈顶元素并返回，如果栈为空则返回 `null` 或抛出异常。
     - `peek()`: 查看栈顶元素但不弹出，如果栈为空则返回 `null`。
     - `isEmpty()`: 判断栈是否为空。
     - `size()`: 返回栈中元素的数量。
   - 在 `main` 方法中，创建 `MyStack<String>` 和 `MyStack<Integer>` 的实例，并分别进行入栈、出栈、查看等操作，验证泛型的类型安全。 **参考代码结构：**

   Java

   ```
   import java.util.ArrayList;
   import java.util.List;
   
   // MyStack.java
   class MyStack<T> {
       private List<T> elements = new ArrayList<>();
   
       public void push(T item) {
           // 在这里编写你的代码
       }
   
       public T pop() {
           // 在这里编写你的代码
           return null; // 或者抛出异常
       }
   
       public T peek() {
           // 在这里编写你的代码
           return null;
       }
   
       public boolean isEmpty() {
           // 在这里编写你的代码
           return false;
       }
   
       public int size() {
           // 在这里编写你的代码
           return 0;
       }
   }
   
   // Main.java
   public class GenericStackDemo {
       public static void main(String[] args) {
           // 在这里创建并使用MyStack对象
       }
   }
   ```

2. **题目名称：** 泛型交换元素方法 **题目描述：**

   - 编写一个静态泛型方法 `swap(List<T> list, int i, int j)`，用于交换列表中指定索引 `i` 和 `j` 处的元素。
   - 在 `main` 方法中，创建 `ArrayList<String>` 和 `ArrayList<Integer>` 的实例，填充数据后调用 `swap` 方法进行交换，并打印交换前后的列表。 **参考代码结构：**

   Java

   ```
   import java.util.ArrayList;
   import java.util.Arrays;
   import java.util.List;
   
   public class GenericSwap {
       public static <T> void swap(List<T> list, int i, int j) {
           // 在这里编写你的代码
       }
   
       public static void main(String[] args) {
           List<String> stringList = new ArrayList<>(Arrays.asList("A", "B", "C"));
           List<Integer> intList = new ArrayList<>(Arrays.asList(1, 2, 3, 4));
   
           System.out.println("Original String List: " + stringList);
           swap(stringList, 0, 2);
           System.out.println("Swapped String List: " + stringList);
   
           System.out.println("Original Integer List: " + intList);
           swap(intList, 1, 3);
           System.out.println("Swapped Integer List: " + intList);
       }
   }
   ```

### 8.2. 泛型与通配符 (Generics & Wildcards)

- **知识点：** 无界通配符（`<?>`）；上限通配符（`<? extends T>`）；下限通配符（`<? super T>`）；PECS 原则（Producer Extends, Consumer Super）。

1. **题目名称：** 列表元素打印器（使用无界通配符） **题目描述：**

   - 编写一个静态方法 `printList(List<?> list)`，该方法可以打印任何类型列表中的所有元素。
   - 在 `main` 方法中，分别创建 `List<String>`、`List<Integer>` 和 `List<Double>`，并调用 `printList` 方法进行打印。 **参考代码结构：**

   Java

   ```
   import java.util.ArrayList;
   import java.util.Arrays;
   import java.util.List;
   
   public class WildcardPrintList {
       public static void printList(List<?> list) {
           // 在这里编写你的代码
       }
   
       public static void main(String[] args) {
           List<String> strings = Arrays.asList("Hello", "World");
           List<Integer> integers = Arrays.asList(1, 2, 3);
           List<Double> doubles = Arrays.asList(1.1, 2.2);
   
           System.out.print("Strings: ");
           printList(strings);
           System.out.print("Integers: ");
           printList(integers);
           System.out.print("Doubles: ");
           printList(doubles);
       }
   }
   ```

2. **题目名称：** 复制列表（使用上限通配符） **题目描述：**

   - 编写一个静态泛型方法 `copy(List<? extends T> source, List<T> destination)`，用于将 `source` 列表中的元素复制到 `destination` 列表中。要求 `source` 列表的元素类型可以是 `T` 或 `T` 的任何子类。
   - 在 `main` 方法中，创建 `List<Number>` 和 `List<Integer>`，将 `Integer` 列表的元素复制到 `Number` 列表中，并打印结果。 **参考代码结构：**

   Java

   ```
   import java.util.ArrayList;
   import java.util.Arrays;
   import java.util.List;
   
   public class PECSDemo {
       public static <T> void copy(List<? extends T> source, List<T> destination) {
           // 在这里编写你的代码
       }
   
       public static void main(String[] args) {
           List<Integer> ints = Arrays.asList(1, 2, 3);
           List<Number> nums = new ArrayList<>();
           List<Object> objects = new ArrayList<>();
   
           System.out.println("Before copy (nums): " + nums);
           copy(ints, nums); // Integer extends Number, so this is valid
           System.out.println("After copy (nums): " + nums);
   
           // try to copy ints to objects using copy method if you want to extend this
           // System.out.println("Before copy (objects): " + objects);
           // copy(ints, objects); // Integer extends Object, so this is valid
           // System.out.println("After copy (objects): " + objects);
       }
   }
   ```
