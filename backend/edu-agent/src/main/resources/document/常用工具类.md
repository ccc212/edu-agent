## 19. 常用工具类 (Common Utility Classes)

### 19.1. `Objects` 类 (Objects Class)

- **知识点：** `Objects.equals()` (安全地比较对象，处理 `null`)；`Objects.hashCode()` (安全地获取哈希码)；`Objects.toString()` (安全地转为字符串)；`Objects.requireNonNull()` (非空检查)。

1. 题目名称：

    安全的对象比较

   题目描述：

   - 定义一个 `Car` 类，包含 `brand` (String) 和 `model` (String) 属性。
   - 重写 `equals()` 和 `hashCode()` 方法，但使用 `Objects.equals()` 和 `Objects.hashCode()` 来避免 `NullPointerException`。
   - 在 `main` 方法中，创建一些 `Car` 对象，包括 `null` 值的 `brand` 或 `model`，然后使用 `Objects.equals()` 比较它们，并打印结果。 **参考代码结构：**

   ```java
   import java.util.Objects;
   
   // Car.java
   class Car {
       private String brand;
       private String model;
   
       public Car(String brand, String model) {
           this.brand = brand;
           this.model = model;
       }
   
       public String getBrand() { return brand; }
       public String getModel() { return model; }
   
       @Override
       public boolean equals(Object o) {
           // 在这里使用 Objects.equals()
           return false;
       }
   
       @Override
       public int hashCode() {
           // 在这里使用 Objects.hashCode()
           return 0;
       }
   
       @Override
       public String toString() {
           // 在这里使用 Objects.toString()
           return "Car{" +
                  "brand='" + Objects.toString(brand, "N/A") + '\'' +
                  ", model='" + Objects.toString(model, "N/A") + '\'' +
                  '}';
       }
   }
   
   // Main.java
   public class ObjectsDemo {
       public static void main(String[] args) {
           Car car1 = new Car("Toyota", "Camry");
           Car car2 = new Car("Toyota", "Camry");
           Car car3 = new Car("Honda", "Civic");
           Car car4 = new Car(null, "Accord"); // 包含null
           Car car5 = new Car("BMW", null);   // 包含null
           Car car6 = null;
   
           System.out.println("car1 equals car2: " + car1.equals(car2));
           System.out.println("car1 equals car3: " + car1.equals(car3));
           System.out.println("car4 equals car5: " + car4.equals(car5)); // 观察null处理
           System.out.println("car1 equals car6: " + car1.equals(car6)); // 观察null处理
           System.out.println("car4: " + car4); // 观察toString with null
           System.out.println("car5: " + car5); // 观察toString with null
   
           // 尝试使用 Objects.requireNonNull
           try {
               Objects.requireNonNull(car4.getBrand(), "Car brand must not be null");
           } catch (NullPointerException e) {
               System.out.println("Caught expected NPE for car4 brand.");
           }
       }
   }
   ```

### 19.2. `Arrays` 类 (`Arrays` Class)

- **知识点：** `Arrays.sort()` (数组排序)；`Arrays.equals()` (比较数组内容)；`Arrays.copyOf()` (数组复制)；`Arrays.fill()` (填充数组)；`Arrays.asList()` (数组转列表)；`Arrays.deepToString()` (多维数组打印)。

1. 题目名称：

    数组排序与比较

   题目描述：

   - 声明两个整数数组 `arr1` 和 `arr2`。
   - 使用 `Arrays.sort()` 对 `arr1` 进行升序排序。
   - 使用 `Arrays.equals()` 判断排序后的 `arr1` 是否与 `arr2` 内容相同（即使元素顺序不同，如果元素集相同也应返回 `true`，但 `Arrays.equals` 是严格的顺序和内容比较）。
   - 创建一个新数组 `arr3`，它是 `arr1` 的一个复制。
   - 打印所有数组以验证操作。 **输入示例：** `arr1 = {3, 1, 4, 1, 5}, arr2 = {1, 1, 3, 4, 5}` **输出示例：**

   ```
   Sorted arr1: [1, 1, 3, 4, 5]
   arr1 equals arr2: true
   Copied arr3: [1, 1, 3, 4, 5]
   ```

   参考代码结构：

   ```java
   import java.util.Arrays;
   
   public class ArraysUtilDemo {
       public static void main(String[] args) {
           int[] arr1 = {3, 1, 4, 1, 5};
           int[] arr2 = {1, 1, 3, 4, 5};
   
           // 排序 arr1
           // 在这里编写你的代码
   
           System.out.println("Sorted arr1: " + Arrays.toString(arr1));
   
           // 比较 arr1 和 arr2
           // 在这里编写你的代码
           System.out.println("arr1 equals arr2: " + areEqual);
   
           // 复制 arr1 到 arr3
           // 在这里编写你的代码
           System.out.println("Copied arr3: " + Arrays.toString(arr3));
   
           // 填充数组
           int[] arr4 = new int[5];
           Arrays.fill(arr4, 7);
           System.out.println("Filled arr4: " + Arrays.toString(arr4));
       }
   }
   ```

### 19.3. `Collections` 类 (`Collections` Class)

- **知识点：** `Collections.sort()` (列表排序)；`Collections.reverse()` (反转列表)；`Collections.shuffle()` (打乱列表)；`Collections.max()` / `min()` (查找最大/小元素)；`Collections.frequency()` (统计元素频率)；`Collections.emptyList()` / `emptySet()` / `emptyMap()` (空集合)。

1. 题目名称：

    列表操作与统计

   题目描述：

   - 创建一个 `List<String>`，包含一些重复的字符串。
   - 使用 `Collections.sort()` 对列表进行默认排序。
   - 使用 `Collections.reverse()` 反转列表顺序。
   - 使用 `Collections.frequency()` 统计某个特定元素在列表中出现的次数。
   - 使用 `Collections.max()` 找出列表中最大的元素。
   - 打印每次操作后的列表或结果。 **输入示例：** `List = ["apple", "orange", "banana", "apple", "grape", "banana", "apple"]`, `Target = "apple"` **输出示例：**

   ```
   Original List: [apple, orange, banana, apple, grape, banana, apple]
   Sorted List: [apple, apple, apple, banana, banana, grape, orange]
   Reversed List: [orange, grape, banana, banana, apple, apple, apple]
   Frequency of "apple": 3
   Max element: orange
   ```

   参考代码结构：

​    import java.util.ArrayList; import java.util.Arrays; import java.util.Collections; import java.util.List;



````
public class CollectionsUtilDemo {
    public static void main(String[] args) {
        List<String> fruits = new ArrayList<>(Arrays.asList("apple", "orange", "banana", "apple", "grape", "banana", "apple"));
        String target = "apple";

        System.out.println("Original List: " + fruits);

        // 排序列表
        // 在这里编写你的代码
        System.out.println("Sorted List: " + fruits);

        // 反转列表
        // 在这里编写你的代码
        System.out.println("Reversed List: " + fruits);

        // 统计元素频率
        // 在这里编写你的代码
        System.out.println("Frequency of \"" + target + "\": " + frequency);

        // 查找最大元素
        // 在这里编写你的代码
        System.out.println("Max element: " + maxElement);

        // 打乱列表
        Collections.shuffle(fruits);
        System.out.println("Shuffled List: " + fruits);
    }
}
```
````
